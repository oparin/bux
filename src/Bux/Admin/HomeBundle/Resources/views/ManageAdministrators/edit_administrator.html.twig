{% extends ':admin:admin_base.html.twig' %}

{% form_theme form 'BuxAdminHomeBundle:ManageAdministrators:twig_theme.html.twig' %}

{% block content_title %}
    <i class="fa fa-dashboard"></i>&nbsp; Home - My Account
{% endblock content_title %}

{% block content %}
    {% for flashMessage in app.session.flashbag.get('success') %}
        {% include ':admin:admin_alert_succes.html.twig' %}
    {% endfor %}
    {% for flashMessage in app.session.flashbag.get('error') %}
        {% include ':admin:admin_alert_error.html.twig' %}
    {% endfor %}
    <div class="row">
        <div class="col-lg-12">
            <div class="box">
                <header>
                    <div class="icons">
                        <i class="fa fa-table"></i>
                    </div>
                    <h5>Create New Administrator</h5>
                </header>
                <div class="body" id="collapse4" style="height: 600px">
                    <ul role="tablist" class="nav nav-tabs" id="myTab">
                        <li class="{% if tab == 'general' %}active{% endif %}" role="presentation">
                            <a aria-expanded="false" aria-controls="general" data-toggle="tab" role="tab" id="general-tab" href="#general">General</a>
                        </li>
                        <li class="{% if tab == 'password' %}active{% endif %}" role="presentation">
                            <a aria-expanded="true" aria-controls="password" data-toggle="tab" role="tab" id="password-tab" href="#password">Permissions</a>
                        </li>
                    </ul>
                    <div class="tab-content" id="myTabContent">
                        <div aria-labelledby="general-tab" id="general" class="tab-pane fade {% if tab == 'general' %}in active{% endif %}" role="tabpanel">
                            <div class="body collapse in" id="div-1" aria-expanded="true" style="">
                                {{ form_start(form, {'attr': {'class': 'form-horizontal'} }) }}
                                <div class="form-group {% if form_errors(form.email) %}has-error{% endif %}">
                                    {{ form_label(form.email, null, {'label_attr': {'class': 'control-label col-lg-4'}}) }}
                                    <div class="col-lg-4">
                                        {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
                                        {% if form_errors(form.email) %}
                                            <span id="required2-error" class="help-block">{{ form_errors(form.email) }}</span>
                                        {% endif %}
                                    </div>
                                </div><!-- /.form-group -->

                                <div class="form-group {% if form_errors(form.username) %}has-error{% endif %}">
                                    {{ form_label(form.username, null, {'label_attr': {'class': 'control-label col-lg-4'}}) }}
                                    <div class="col-lg-4">
                                        {{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
                                        {% if form_errors(form.username) %}
                                            <span id="required2-error" class="help-block">{{ form_errors(form.username) }}</span>
                                        {% endif %}
                                    </div>
                                </div><!-- /.form-group -->

                                <div class="form-group {% if form_errors(form.fullName) %}has-error{% endif %}">
                                    {{ form_label(form.fullName, null, {'label_attr': {'class': 'control-label col-lg-4'}}) }}
                                    <div class="col-lg-4">
                                        {{ form_widget(form.fullName, {'attr': {'class': 'form-control'}}) }}
                                        {% if form_errors(form.fullName) %}
                                            <span id="required2-error" class="help-block">{{ form_errors(form.fullName) }}</span>
                                        {% endif %}
                                    </div>
                                </div><!-- /.form-group -->

                                <div class="form-group {% if form_errors(form.country) %}has-error{% endif %}">
                                    {{ form_label(form.country, null, {'label_attr': {'class': 'control-label col-lg-4'}}) }}
                                    <div class="col-lg-4">
                                        {{ form_widget(form.country, {'attr': {'class': 'form-control'}}) }}
                                        {% if form_errors(form.country) %}
                                            <span id="required2-error" class="help-block">{{ form_errors(form.country) }}</span>
                                        {% endif %}
                                    </div>
                                </div><!-- /.form-group -->

                                <div class="form-group {% if form_errors(form.plainPassword.first) %}has-error{% endif %}">
                                    {{ form_label(form.plainPassword.first, 'Password', {'label_attr': {'class': 'control-label col-lg-4'}}) }}
                                    <div class="col-lg-4">
                                        {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control'}}) }}
                                        {% if form_errors(form.plainPassword.first) %}
                                            <span id="required2-error" class="help-block">{{ form_errors(form.plainPassword.first) }}</span>
                                        {% endif %}
                                    </div>
                                </div><!-- /.form-group -->

                                <div class="form-group">
                                    {{ form_label(form.plainPassword.second, 'Confirm Password', {'label_attr': {'class': 'control-label col-lg-4'}}) }}
                                    <div class="col-lg-4">
                                        {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control'}}) }}
                                    </div>
                                </div><!-- /.form-group -->

                                <div class="form-group">
                                    <div class="col-lg-4"></div>
                                    <div class="col-lg-4">
                                        <input type="submit" class="btn btn-primary" value="Save">
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div aria-labelledby="password-tab" id="password" class="tab-pane fade {% if tab == 'password' %}in active{% endif %}" role="tabpanel">
                            <div class="body collapse in" id="div-1" aria-expanded="true" style="">
                                <div class="form-group">
                                    <div class="col-lg-4"></div>
                                    <div class="col-lg-8">
                                        {{ form_widget(form.adminPermission.permissionOne) }}
                                        {{ form_widget(form.adminPermission.permissionTwo) }}
                                    </div>
                                </div><!-- /.row -->

                                {#{{ form_rest(form) }}#}

                                <div class="form-group">
                                    <div class="col-lg-4"></div>
                                    <div class="col-lg-4">
                                        <input type="submit" class="btn btn-primary" value="Save">
                                    </div>
                                </div>
                                {{ form_end(form) }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}

{% block js %}

{% endblock js %}